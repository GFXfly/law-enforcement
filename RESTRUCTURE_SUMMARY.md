# 行政处罚决定书审查规则重构总结

## 重构概述

按照《行政处罚决定书审查标准》的要求，已成功重新组织审查规则，实现结构化审查流程：

**先检查文书格式** → **后按内容从上到下逐一比对** → **固定内容比对** → **整体一致性检查**

## 新的审查流程结构

### 第一步：文书格式检查 (FORMAT_CHECK_RULES)
- 检查页边距、字体、行距等基本格式要求
- 验证文书结构完整性和内容合理性

### 第二步：标题部分审查 (TITLE_SECTION_RULES)
- 核查标题是否采用"机关名称 + 行政处罚决定书"的标准两行格式
- 检查机关名称和标题表述的规范性

### 第三步：文号部分审查 (DOCUMENT_NUMBER_RULES)
- 检查案件编号格式：（机关简称）处罚类型〔年份〕序号号
- 验证括号、方括号使用的规范性

### 第四步：正文部分审查 (MAIN_CONTENT_RULES)
从上到下逐一核查：
- 当事人信息完整性（姓名、地址、身份证明等）
- 违法事实认定（时间、地点、具体行为）
- 调查经过和证据材料
- 法律依据完整性和适用准确性
- 处罚决定内容和履行方式
- 权利告知（陈述申辩、听证等）

### 第五步：落款部分审查 (SIGNATURE_SECTION_RULES)
- 执法机关名称和盖章位置标识
- 决定作出日期

### 第六步：固定内容比对 (FIXED_CONTENT_RULES)
按照固定内容进行比对审查：
- **第九部分**：行政复议和诉讼权利告知固定表述
- **第十部分**：逾期履行后果告知固定内容

### 第七步：整体一致性检查 (CONSISTENCY_RULES)
- 事实认定与法律适用的一致性
- 内容前后表述的一致性
- 语言表述的规范性

## 新增功能

1. **结构化规则导出函数**：
   - `getStructuredReviewRules()` - 按审查流程获取分组规则
   - `getReviewProcessDescription()` - 获取审查流程说明

2. **规范化分类系统**：
   - 更新了 `ReviewSectionCategory` 类型
   - 实现了从格式到内容的系统化审查

3. **固定内容比对规则**：
   - 专门针对第九和第十部分的固定表述进行精确比对
   - 确保权利告知和后果提示的规范性

## 使用方式

```typescript
// 获取所有规则（按审查流程顺序）
const allRules = getAllReviewRules()

// 获取分步骤规则
const structuredRules = getStructuredReviewRules()

// 获取特定步骤的规则
const formatRules = structuredRules.formatCheck
const titleRules = structuredRules.titleSection
// ...

// 获取审查流程说明
const processDescription = getReviewProcessDescription()
```

## 重构完成状态

✅ **已完成**：
- 文书格式检查规则重构
- 标题部分审查规则
- 文号部分审查规则
- 正文部分审查规则（从上到下）
- 落款部分审查规则
- 固定内容比对规则（第九和第十部分）
- 整体一致性检查规则
- TypeScript 类型更新和编译验证

✅ **代码质量**：
- 所有 TypeScript 错误已解决
- 代码结构清晰，符合新的审查流程
- 保持了原有功能的完整性

这个重构实现了您要求的结构化审查流程：**先查看文书格式、页边距、字体和行距 → 按照文本要求从上到下逐一比对（标题、文号、正文、落款） → 第九和第十部分固定内容比对审查**。